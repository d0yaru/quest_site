$(document).ready(function(){$("#donate").ajaxForm({url:"/engine/shop.ajax.php",dataType:"text",success:function(e){switch((e=$.parseJSON(e)).status){case"error":switch(e.type){case"invalidname":$("#error-input-username").html("Введите игровой ник!");break;case"invalidserver":$("#error-input-serverId").html("Выберите сервер!");break;case"invalidsum":$("#error-input-sum").html("Не корректная сумма!");break;case"dbinvalidserver":$("#error-input-username").html("Неверные данные от базы! (mysql_error)");break;case"noaccount":$("#error-input-username").html("Аккаунт не найден!");break;case"online":$("#error-input-username").html("Сначала выходите из игры!")}break;case"success":setTimeout(function(){$(".shop-page").append('<div class="check-payment-modal vm--container" style="display: none;"><div data-modal="check-payment-system" aria-expanded="true" class="vm--overlay" onclick="document.getElementsByClassName(&quot;check-payment-modal&quot;)[0].remove();"><div class="vm--top-right-slot"></div></div><div aria-expanded="true" role="dialog" aria-modal="true" class="vm--modal" style="background: transparent; box-shadow: unset; padding-top: 20px; width: 400px; height: 645px; position: absolute; margin: auto; top: -9999px; bottom: -9999px; left: -9999px; right: -9999px;"><div class="order-data"><div class="order-data__title">Проверка данных</div>'+e.accept+'<div class="terms"><input type="checkbox" checked="checked"><span>Продолжая покупку, вы соглашаетесь с <a href="/document/terms" class="">пользовательским соглашением</a>.</span></div></div></div></div>'),$(".check-payment-modal").fadeIn(500),$("#donate")[0].reset()},200)}}}),$(document).on("click",".pay-button",function(e){var t=$(this).data("packet");$.ajax({type:"POST",url:"/engine/shop.ajax.php",data:"type=packet&packet_id="+t,success:function(e){switch((e=$.parseJSON(e)).status){case"error":switch(e.type){case"noaccount":$(".vue-notification-group").append('<div class="vue-notification-template vue-notification error" style="display: none;"><div class="notification-content">Что-то пошло не так!</div></div>'),$(".vue-notification-template").fadeIn(500),setTimeout(function(){$(".vue-notification-template").fadeOut(1e3),setTimeout(function(){$(".vue-notification-template ").remove()},1e3)},3e3);break;case"online":$(".vue-notification-group").append('<div class="vue-notification-template vue-notification error" style="display: none;"><div class="notification-content">Аккаунт находится в игре, выйдите!</div></div>'),$(".vue-notification-template").fadeIn(500),setTimeout(function(){$(".vue-notification-template").fadeOut(1e3),setTimeout(function(){$(".vue-notification-template ").remove()},1e3)},3e3);break;case"nologin":$(".vue-notification-group").append('<div class="vue-notification-template vue-notification warn" style="display: none;"><div class="notification-content">Перед покупкой необходимо авторизоваться!</div></div>'),$(".vue-notification-template").fadeIn(500),setTimeout(function(){$(".vue-notification-template").fadeOut(1e3),setTimeout(function(){$(".vue-notification-template ").remove()},1e3)},3e3);break;case"dbinvalidserver":$(".vue-notification-group").append('<div class="vue-notification-template vue-notification error" style="display: none;"><div class="notification-content">Ошибка подключение к базе! (mysql_error)</div></div>'),$(".vue-notification-template").fadeIn(500),setTimeout(function(){$(".vue-notification-template").fadeOut(1e3),setTimeout(function(){$(".vue-notification-template ").remove()},1e3)},3e3)}break;case"success":setTimeout(function(){$(".shop-page").append('<div class="check-payment-modal vm--container" style="display: none;"><div data-modal="check-payment-system" aria-expanded="true" class="vm--overlay" onclick="document.getElementsByClassName(&quot;check-payment-modal&quot;)[0].remove();"><div class="vm--top-right-slot"></div></div><div aria-expanded="true" role="dialog" aria-modal="true" class="vm--modal" style="background: transparent; box-shadow: unset; padding-top: 20px; width: 400px; height: 645px; position: absolute; margin: auto; top: -9999px; bottom: -9999px; left: -9999px; right: -9999px;"><div class="order-data"><div class="order-data__title">Проверка данных</div>'+e.accept_packet+'<div class="terms"><input type="checkbox" checked="checked"><span>Продолжая покупку, вы соглашаетесь с <a href="/document/terms" class="">пользовательским соглашением</a>.</span></div></div></div></div>'),$(".check-payment-modal").fadeIn(500)},200)}}})})})